<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: UserForm/UserForm.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: UserForm/UserForm.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React from "react";
import http from "../../Service/http-common-service-call";
import { toast } from "react-toastify";
import "react-toastify/dist/ReactToastify.css";

/**
 * UserForm for booking the seats
 */
export default class UserForm extends React.Component {
  constructor(props) {
    super(props);
    this.state = {
      name: "",
      email: "",
      mobileNumber: "",
    };

    this.handleChange = this.handleChange.bind(this);
    this.handleSubmit = this.handleSubmit.bind(this);
  }
  /**
   * Setting the form inputs to the state variables
   * @param {*} event recieved from input field
   */
  handleChange(event) {
    let nam = event.target.name;
    let val = event.target.value;
    this.setState({
      [nam]: val,
    });
  }

  /**
   * Calling the book API
   * @param {*} event recieved from input field
   */
  handleSubmit(event) {
    let req = { user: this.state, seats: this.props.selected };
    this.refs.book.setAttribute("disabled", "disabled");
    http.post("/book", req).catch((res) => {
      toast("Error:" + res.response.data);
      console.log(res.response);
    });

    toast("Booked " + this.props.selected.length + " ticket(s) successfully");
    toast("Sent email to " + this.state.email);
    event.preventDefault();
    setTimeout(() => window.location.reload(), 5000);
  }

  render() {
    return (
      &lt;div className="popup">
        &lt;div className="popup_inner">
          &lt;h3> Enter Details &lt;/h3>
          &lt;form onSubmit={this.handleSubmit}>
            &lt;div className="form-group">
              &lt;input
                type="text"
                name="name"
                minlength="4"
                placeholder="Name"
                required
                onChange={this.handleChange}/>
            &lt;/div>
            &lt;div className="form-group">
              &lt;input
                type="email"
                name="email"
                placeholder="Email"
                required
                onChange={this.handleChange}/>
            &lt;/div>
            &lt;div className="form-group">
              &lt;input
                type="tel"
                name="mobileNumber"
                pattern="^\d{10}$"
                placeholder="10 digits Mobile No"
                required
                onChange={this.handleChange}/>
            &lt;/div>
            &lt;div className="form-group">
              &lt;input
                ref="book"
                className="btn btn-primary"
                type="submit"
                value="BOOK"/>
            &lt;/div>
            &lt;div className="form-group">
              &lt;input
                className="btn btn-primary"
                onClick={this.props.closePopup}
                value="BACK"/>
            &lt;/div>
          &lt;/form>
        &lt;/div>
      &lt;/div>
    );
  }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="module.exports.html">exports</a></li></ul><h3>Global</h3><ul><li><a href="global.html#clearSelection">clearSelection</a></li><li><a href="global.html#componentDidMount">componentDidMount</a></li><li><a href="global.html#handleChange">handleChange</a></li><li><a href="global.html#handleSubmit">handleSubmit</a></li><li><a href="global.html#onClickData">onClickData</a></li><li><a href="global.html#reserved">reserved</a></li><li><a href="global.html#togglePopup">togglePopup</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.7</a> on Mon Sep 13 2021 11:34:11 GMT+0530 (India Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
